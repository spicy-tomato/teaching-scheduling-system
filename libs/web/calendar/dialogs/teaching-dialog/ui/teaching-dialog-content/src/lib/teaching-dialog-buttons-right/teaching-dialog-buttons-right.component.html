<div
  *ngrxLet="requestingChangeSchedule$ as requestingChangeSchedule"
  class="tui-form__buttons tui-form__buttons_align_end"
>
  <ng-container *ngIf="requestingChangeSchedule; else notEditing">
    <ng-container *ngrxLet="requestStatus$ as requestStatus">
      <ng-container *ngrxLet="changeStatus$ as changeStatus">
        <button
          tuiButton
          [disabled]="requestStatus === 'loading' || changeStatus === 'loading'"
          (click)="fold()"
          appearance="outline"
          class="tui-form__button"
        >
          Hủy
        </button>
      </ng-container>
    </ng-container>
  </ng-container>
  <ng-template #notEditing>
    <ng-container *ngrxLet="updateStatus$ as updateStatus">
      <button
        tuiButton
        [showLoader]="updateStatus === 'loading'"
        [disabled]="form.controls['change'].invalid"
        (click)="onUpdate()"
        class="tui-form__button"
      >
        Lưu
      </button>
    </ng-container>
    <button
      tuiButton
      (click)="cancel.emit()"
      appearance="outline"
      class="tui-form__button"
    >
      Đóng
    </button>
  </ng-template>
</div>
